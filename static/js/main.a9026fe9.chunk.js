(this["webpackJsonpfriday-fellows-web"]=this["webpackJsonpfriday-fellows-web"]||[]).push([[0],{100:function(e,t,a){e.exports=a(133)},105:function(e,t,a){},107:function(e,t,a){},125:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),i=(a(105),a(42)),s=a.n(i),l=a(55),m=a(24),u=(a(107),a(7));function p(e){return function(t){return{payload:t,type:e}}}var g,d,f="ACTION_FETCH_SEASONS_START",h="ACTION_FETCH_SEASONS_SUCCESS",b="SET_SEASON_START_DATE",E={fetchSeasonsStart:(g=f,function(){return{type:g}}),fetchSeasonsSuccess:p(h),setSeasonStartDate:p(b)};function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPRING=1]="SPRING",e[e.SUMMER=2]="SUMMER",e[e.FALL=3]="FALL",e[e.WINTER=4]="WINTER"}(d||(d={}));var v={seasons:[],lastSync:void 0,loadingSeasons:!1};function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return O({},e,{loadingSeasons:!0});case h:return O({},e,{seasons:t.payload.json,lastSync:t.payload.lastSync,loadingSeasons:!1});case b:var a=e.seasons.indexOf(t.payload.season);return O({},e,{seasons:e.seasons.map((function(e,n){if(n!==a)return e;var r=t.payload.startDate;return O({},e,{startDate:r?r.getTime():null})}))});default:return e}}var w=a(56),j=a.n(w),N=a(31),D=(a(125),a(161)),P=a(181),k=a(134),R=a(182),I=a(167),A=a(168),x=a(169),T=a(170),L=a(171),B=a(172),C=a(23);function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _=Object(D.a)((function(e){return Object(P.a)({header:U({},e.typography.button,{padding:e.spacing(1),marginLeft:"auto",marginRight:"auto",marginBottom:e.spacing(2),width:"fit-content",display:"flex",alignItems:"center"}),title:{marginLeft:e.spacing(1),marginRight:e.spacing(2)},lastSync:{marginRight:e.spacing(3)},root:{overflowX:"auto",margin:"0 10px"},table:{minWidth:650}})}));var M=function(e){var t=e.seasons,a=e.lastSyncDate,n=e.loading,c=_();return r.a.createElement("div",null,r.a.createElement(k.a,{className:c.header},r.a.createElement("span",{className:c.title},"All Seasons"),r.a.createElement(R.a,{title:"Last time data was read from GoogleSheets"},r.a.createElement("span",{className:c.lastSync},"Last Sync:\xa0",function(e){return e?new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"2-digit"}).format(e):"Unknown"}(a)))),r.a.createElement(k.a,{className:c.root},r.a.createElement(I.a,{className:c.table,"aria-label":"simple table"},r.a.createElement(A.a,null,r.a.createElement(x.a,null,r.a.createElement(T.a,null,"Season Name"),r.a.createElement(T.a,{align:"right"},"Season"),r.a.createElement(T.a,{align:"right"},"Year"),r.a.createElement(T.a,{align:"right"},"Start\xa0Date\xa0(ms)"),r.a.createElement(T.a,{align:"right"},"Sheet\xa0ID"))),!n&&r.a.createElement(L.a,null,t.map((function(e){return r.a.createElement(x.a,{key:e.sheetId},r.a.createElement(T.a,{component:"th",scope:"row"},r.a.createElement(C.b,{to:"/s/"+e.sheetId},e.formattedName)),r.a.createElement(T.a,{align:"right"},e.season),r.a.createElement(T.a,{align:"right"},e.year),r.a.createElement(T.a,{align:"right"},e.startDate),r.a.createElement(T.a,{align:"right"},e.sheetId))})))),n&&r.a.createElement(B.a,{size:60})))},F=(a(130),a(14)),K=a(180),G=a(82),H=a(177);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var V=Object(D.a)((function(e){return Object(P.a)({header:z({},e.typography.button,{padding:e.spacing(1),marginLeft:"auto",marginRight:"auto",marginBottom:e.spacing(2),width:"fit-content",display:"flex",alignItems:"center"}),title:{marginLeft:e.spacing(1),marginRight:e.spacing(2),fontSize:"20px"},datePicker:{margin:0},paperBody:{margin:"auto",maxWidth:"60vw"},table:{minWidth:650}})})),X=function(e){var t=e.season,a=e.onStartDateChanged,n=Object(N.g)().seasonId,c=V();return t?r.a.createElement("div",null,r.a.createElement(k.a,{className:c.header},r.a.createElement("span",{className:c.title},t.formattedName),r.a.createElement(F.a,{utils:G.a},r.a.createElement(K.a,{className:c.datePicker,label:"Start Date",disableToolbar:!0,inputVariant:"outlined",variant:"inline",format:"MM/dd/yyyy",autoOk:!0,value:t.startDate,onChange:function(e){a(e,t)},KeyboardButtonProps:{"aria-label":"change date"},margin:"dense"})),null===t.startDate&&r.a.createElement(R.a,{title:"Missing Start Date"},r.a.createElement(H.a,{className:"push-left warning-icon text-top"},"warning"))),r.a.createElement("p",null,n),r.a.createElement("p",null,JSON.stringify(t))):null},Y=a(81),$=a.n(Y),q=(a(131),a(178)),Q=a(176),Z=a(173),ee=a(174),te=a(183),ae=a(175),ne=Object(D.a)((function(e){return Object(P.a)({logo:{marginRight:e.spacing(2)},title:{marginRight:e.spacing(3)},navButton:{marginRight:e.spacing(1)},grow:{flexGrow:1}})})),re=function(){var e=ne();return r.a.createElement("div",null,r.a.createElement(q.a,{position:"static"},r.a.createElement(Q.a,null,r.a.createElement(Z.a,{edge:"start",className:e.logo,color:"inherit","aria-label":"logo"},r.a.createElement(C.b,{to:"/"},r.a.createElement("img",{src:$.a,className:"App-logo",alt:"logo"}))),r.a.createElement(ee.a,{variant:"h6",className:e.title},"Friday Fellows Updater"),r.a.createElement(te.a,{disableRipple:!0,component:C.c,to:"/ondeck",activeClassName:"activeLink"},r.a.createElement(ae.a,{variant:"contained",className:e.navButton},"On Deck")),r.a.createElement(te.a,{disableRipple:!0,component:C.c,to:"/seasons",activeClassName:"activeLink"},r.a.createElement(ae.a,{variant:"contained",className:e.navButton},"Seasons")),r.a.createElement(te.a,{disableRipple:!0,component:C.c,to:"/admin",activeClassName:"activeLink"},r.a.createElement(ae.a,{variant:"contained",className:e.navButton,disabled:!0},"Admin")),r.a.createElement("div",{className:e.grow}),r.a.createElement(ae.a,{color:"inherit"},"Login"))))};a(132);function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ie=Object(D.a)((function(e){return Object(P.a)({header:oe({},e.typography.button,{padding:e.spacing(1),marginLeft:"auto",marginRight:"auto",marginBottom:e.spacing(2),width:"fit-content"}),headerSegment:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},paperBody:{margin:"auto",maxWidth:"60vw"},table:{minWidth:650}})})),se=function(){var e=ie();return r.a.createElement("div",null,r.a.createElement(k.a,{className:e.header},r.a.createElement("span",{className:e.headerSegment},"Fall 2019"),r.a.createElement("span",{className:e.headerSegment},"Week 10"),r.a.createElement("span",{className:e.headerSegment},"Next Session: 11/22/2019")),r.a.createElement(k.a,{className:e.paperBody},r.a.createElement(I.a,{className:e.table,"aria-label":"simple table"},r.a.createElement(A.a,null,r.a.createElement(x.a,null,r.a.createElement(T.a,null,"Series Title (English)"),r.a.createElement(T.a,{align:"right"},"Episode"))),r.a.createElement(L.a,null,[{id:1,title:"Violet Evergarden",ep:9},{id:2,title:"One Piece",ep:619},{id:3,title:"Kyoukai no Kanata",ep:10},{id:4,title:"White Album 2",ep:9},{id:5,title:"My Hero Academia",ep:8},{id:6,title:"One Punch Man",ep:10}].map((function(e){return r.a.createElement(x.a,{key:e.id},r.a.createElement(T.a,{component:"th",scope:"row"},e.title),r.a.createElement(T.a,{align:"right"},e.ep))}))))))},le=function(e){var t=e.backendURI,a=Object(n.useReducer)(S,v),c=Object(m.a)(a,2),o=c[0],i=c[1];Object(n.useEffect)((function(){(function(){var e=Object(l.a)(s.a.mark((function e(){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(E.fetchSeasonsStart()),e.next=4,j.a.get(t+"/getAllSeasons");case 4:a=e.sent,n=a.data.lastSyncMs,r=n?new Date(n):void 0,i(E.fetchSeasonsSuccess({json:a.data.seasons,lastSync:r})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t]);var u=function(){var e=Object(l.a)(s.a.mark((function e(a,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={sheetId:n.sheetId,startDate:a?a.getTime():null},e.next=3,j.a.post(t+"/setSeasonStartDate",r);case 3:200===e.sent.status&&i(E.setSeasonStartDate({season:n,startDate:a}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement(re,null),r.a.createElement("div",{className:"App-body"},r.a.createElement(N.d,null,r.a.createElement(N.b,{exact:!0,path:"/"},r.a.createElement(N.a,{to:"/ondeck"})),r.a.createElement(N.b,{exact:!0,path:"/ondeck"},r.a.createElement(se,null)),r.a.createElement(N.b,{exact:!0,path:"/seasons"},r.a.createElement(M,{seasons:o.seasons,lastSyncDate:o.lastSync,loading:o.loadingSeasons,onStartDateChanged:u})),r.a.createElement(N.b,{path:"/s/:seasonId",render:function(e){var t=e.match;return r.a.createElement(X,{season:o.seasons.find((function(e){return String(e.sheetId)===t.params.seasonId})),onStartDateChanged:u})}}))),r.a.createElement((function(){return r.a.createElement("div",{className:"App-footer"},r.a.createElement("a",{href:"https://github.com/brisberg/friday-fellows-gcf"},"Github"))}),null))};var me={BACKEND_URI:"https://us-central1-driven-utility-202807.cloudfunctions.net"};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=a(179),pe=a(83),ge=Object(pe.a)({palette:{type:"dark"}});o.a.render(r.a.createElement(ue.a,{theme:ge},r.a.createElement(C.a,null,r.a.createElement(le,{backendURI:me.BACKEND_URI}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},81:function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"}},[[100,1,2]]]);
//# sourceMappingURL=main.a9026fe9.chunk.js.map