(this["webpackJsonpfriday-fellows-web"]=this["webpackJsonpfriday-fellows-web"]||[]).push([[0],{115:function(e,t,a){},120:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),s=a.n(o),c=(a(95),a(38)),l=a.n(c),i=a(47),u=a(22),m=a(68),p=a.n(m),f=(a(97),a(7));function d(e){return function(t){return{payload:t,type:e}}}var E,h="ACTION_FETCH_SEASONS",g="SET_SEASON_START_DATE",b={fetchSeasons:d(h),setSeasonStartDate:d(g)};function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPRING=1]="SPRING",e[e.SUMMER=2]="SUMMER",e[e.FALL=3]="FALL",e[e.WINTER=4]="WINTER"}(E||(E={}));var S={seasons:[]};function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return y({},e,{seasons:t.payload.json});case g:return y({},e,{seasons:e.seasons.map((function(e,a){if(a!==t.payload.seasonIdx)return e;var n=t.payload.startDate;return y({},e,{startDate:n?n.getTime():null})}))});default:return e}}var w=a(69),N=a.n(w),D=a(29),I=a(34),j=(a(115),a(148)),A=a(153),k=a(157),x=a(156),R=a(154),P=a(155),T=a(151),U=a(14),C=a(161),M=a(73),W=a(162),_=a(160),B=Object(j.a)({root:{overflowX:"auto",margin:"0 10px"},table:{minWidth:650}}),F=function(e){var t=e.seasons,a=e.onStartDateChanged,n=B({});return r.a.createElement("div",null,r.a.createElement("p",null,"Seasons JSON:"),r.a.createElement(T.a,{className:n.root},r.a.createElement(A.a,{className:n.table,"aria-label":"simple table"},r.a.createElement(R.a,null,r.a.createElement(P.a,null,r.a.createElement(x.a,null,"Season Name"),r.a.createElement(x.a,{align:"right"},"Season"),r.a.createElement(x.a,{align:"right"},"Year"),r.a.createElement(x.a,{align:"right"},"Start\xa0Date\xa0(ms)"),r.a.createElement(x.a,{align:"right"},"Sheet\xa0ID"))),r.a.createElement(k.a,null,t.map((function(e,t){return r.a.createElement(P.a,{key:e.sheetId},r.a.createElement(x.a,{component:"th",scope:"row"},r.a.createElement(I.b,{to:"/s/"+e.sheetId},e.formattedName)),r.a.createElement(x.a,{align:"right"},e.season),r.a.createElement(x.a,{align:"right"},e.year),r.a.createElement(x.a,{align:"right"},null===e.startDate&&r.a.createElement(W.a,{title:"Missing Start Date"},r.a.createElement(_.a,{className:"push-right warning-icon text-top"},"warning")),r.a.createElement(U.a,{utils:M.a},r.a.createElement(C.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",autoOk:!0,value:e.startDate,onChange:function(n){a(n,e,t)},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(x.a,{align:"right"},e.sheetId))}))))))};function K(){var e=Object(D.f)().seasonId;return r.a.createElement("div",null,r.a.createElement(I.b,{to:"/"},"Back"),r.a.createElement("p",null,e))}var L=function(e){var t=e.backendURI,a=Object(n.useReducer)(O,S),o=Object(u.a)(a,2),s=o[0],c=o[1],m=function(){var e=Object(i.a)(l.a.mark((function e(){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t+"/getAllSeasons");case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,c(b.fetchSeasons({json:n}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(i.a)(l.a.mark((function e(a,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post(t+"/setSeasonStartDate",{sheetId:n.sheetId,startDate:a?a.getTime():null});case 2:200===e.sent.status&&c(b.setSeasonStartDate({seasonIdx:r,startDate:a}));case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:p.a,className:"App-logo",alt:"logo"}),r.a.createElement("p",null,"Friday Fellows Updater - Season List")),r.a.createElement("div",{className:"App-body"},r.a.createElement(D.c,null,r.a.createElement(D.a,{exact:!0,path:"/"},r.a.createElement(F,{seasons:s.seasons,onStartDateChanged:f})),r.a.createElement(D.a,{path:"/s/:seasonId",component:K}))),r.a.createElement("div",{className:"App-footer"},r.a.createElement("button",{onClick:m},"Fetch Season Data")))};var J={BACKEND_URI:"https://us-central1-driven-utility-202807.cloudfunctions.net"};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(I.a,null,r.a.createElement(L,{backendURI:J.BACKEND_URI})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},68:function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"},90:function(e,t,a){e.exports=a(120)},95:function(e,t,a){},97:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.f3ebc20f.chunk.js.map