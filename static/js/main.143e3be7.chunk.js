(this["webpackJsonpfriday-fellows-web"]=this["webpackJsonpfriday-fellows-web"]||[]).push([[0],{105:function(e,t,a){e.exports=a(138)},110:function(e,t,a){},112:function(e,t,a){},130:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),c=a.n(i),s=(a(110),a(27)),o=a.n(s),l=a(43),u=a(16),m=(a(112),a(7));function p(e){return function(t){return{payload:t,type:e}}}function d(e){return function(){return{type:e}}}var g,f="ACTION_FETCH_SEASONS_START",E="ACTION_FETCH_SEASONS_SUCCESS",h="ACTION_FETCH_SERIES_START",b="ACTION_FETCH_SERIES_SUCCESS",S="ACTION_SET_SEASON_START_DATE",y="SET_SERIES_ID",O={fetchSeasonsStart:d(f),fetchSeasonsSuccess:p(E),fetchSeriesStart:d(h),fetchSeriesSuccess:p(b),setSeasonStartDate:p(S),setSeriesId:p(y)};function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPRING=1]="SPRING",e[e.SUMMER=2]="SUMMER",e[e.FALL=3]="FALL",e[e.WINTER=4]="WINTER"}(g||(g={}));var j={seasons:[],loadingSeasons:!1,seriesForSeason:[],loadingSeries:!1,lastSync:void 0};function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return w({},e,{loadingSeasons:!0});case E:return w({},e,{seasons:t.payload.json,lastSync:t.payload.lastSync,loadingSeasons:!1});case h:return w({},e,{loadingSeries:!0});case b:return w({},e,{seriesForSeason:t.payload.json,loadingSeries:!1});case S:var a=e.seasons.indexOf(t.payload.season);return w({},e,{seasons:e.seasons.map((function(e,n){if(n!==a)return e;var r=t.payload.startDate;return w({},e,{startDate:r?r.getTime():null})}))});case y:var n=e.seriesForSeason.indexOf(t.payload.series);return w({},e,{seriesForSeason:e.seriesForSeason.map((function(e,a){return a!==n?e:w({},e,{idAL:t.payload.seriesId||-1})}))});default:return e}}var I=a(44),D=a.n(I),k=a(34),P=(a(130),a(168)),R=a(193),A=a(89),C=a(194),x=a(173),L=a(174),T=a(175),_=a(176),F=a(177),B=a(178),U=a(23);function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var K=Object(P.a)((function(e){return Object(R.a)({header:M({},e.typography.button,{padding:e.spacing(1),marginLeft:"auto",marginRight:"auto",marginBottom:e.spacing(2),width:"fit-content",display:"flex",alignItems:"center"}),title:{marginLeft:e.spacing(1),marginRight:e.spacing(2)},lastSync:{marginRight:e.spacing(3)},root:{overflowX:"auto",margin:"0 10px"},table:{minWidth:650}})}));var G=function(e){var t=e.seasons,a=e.lastSyncDate,n=e.loading,i=K();return r.a.createElement("div",null,r.a.createElement(A.a,{className:i.header},r.a.createElement("span",{className:i.title},"All Seasons"),r.a.createElement(C.a,{title:"Last time data was read from GoogleSheets"},r.a.createElement("span",{className:i.lastSync},"Last Sync:\xa0",function(e){return e?new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"2-digit"}).format(e):"Unknown"}(a)))),r.a.createElement(A.a,{className:i.root},r.a.createElement(x.a,{className:i.table,"aria-label":"simple table"},r.a.createElement(L.a,null,r.a.createElement(T.a,null,r.a.createElement(_.a,null,"Season Name"),r.a.createElement(_.a,{align:"right"},"Season"),r.a.createElement(_.a,{align:"right"},"Year"),r.a.createElement(_.a,{align:"right"},"Start\xa0Date\xa0(ms)"),r.a.createElement(_.a,{align:"right"},"Sheet\xa0ID"))),!n&&r.a.createElement(F.a,null,t.map((function(e){return r.a.createElement(T.a,{key:e.sheetId},r.a.createElement(_.a,{component:"th",scope:"row"},r.a.createElement(U.b,{to:"/s/"+e.sheetId},e.formattedName)),r.a.createElement(_.a,{align:"right"},e.season),r.a.createElement(_.a,{align:"right"},e.year),r.a.createElement(_.a,{align:"right"},e.startDate),r.a.createElement(_.a,{align:"right"},e.sheetId))})))),n&&r.a.createElement(B.a,{size:60})))},H=(a(135),a(14)),z=a(191),J=a(86),V=a(192),X=a(179),Y=a(180),$=a(190),q=a(183),Q=a(184),Z=a(187);function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ae=Object(P.a)((function(e){return Object(R.a)({header:te({},e.typography.button,{padding:e.spacing(1),marginLeft:"auto",marginRight:"auto",marginBottom:e.spacing(2),width:"fit-content",display:"flex",alignItems:"center"}),title:{marginLeft:e.spacing(1),marginRight:e.spacing(2),fontSize:"20px"},datePicker:{margin:0},paperBody:{margin:"auto",maxWidth:"60vw"},root:{overflowX:"auto",margin:"0 10px"},table:{minWidth:650}})}));function ne(e){var t=e.onClose,a=e.open,i=e.series,c=Object(n.useState)(i&&i.idAL||0),s=Object(u.a)(c,2),o=s[0],l=s[1],m=function(){t(o)};return r.a.createElement(V.a,{open:a,onClose:m,"aria-labelledby":"set-id-dialog-title","aria-describedby":"set-id-dialog-description"},r.a.createElement(X.a,{id:"set-id-dialog-title"},"Set AniList.co Id for Series"),r.a.createElement(Y.a,null,r.a.createElement($.a,{id:"id-input",label:"AniList Id",type:"number",variant:"outlined",InputLabelProps:{shrink:!0},margin:"normal",value:o,onChange:function(e){l(parseInt(e.target.value))}})),r.a.createElement(q.a,null,r.a.createElement(Q.a,{onClick:m,color:"primary"},"Confirm")))}var re=function(e){var t=e.dispatch,a=e.backendURI,i=e.season,c=e.seriesList,s=void 0===c?[]:c,m=e.onStartDateChanged,p=e.onSeriesIdChanged,d=Object(k.g)().seasonId,g=Object(n.useState)(!1),f=Object(u.a)(g,2),E=f[0],h=f[1],b=Object(n.useState)(null),S=Object(u.a)(b,2),y=S[0],v=S[1],w=ae();if(Object(n.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(O.fetchSeriesStart()),e.next=4,D.a.get(a+"/getSeries?seasonId="+d);case 4:n=e.sent,t(O.fetchSeriesSuccess({json:n.data.series})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[t,a,d]),!i)return null;var j=function(e){v(e),h(!0)},N=function(e){var t=e.onClick,a=e.series;return r.a.createElement(Q.a,{onClick:function(){t(a)}},"Edit")};return r.a.createElement("div",null,r.a.createElement(A.a,{className:w.header},r.a.createElement("span",{className:w.title},i.formattedName),r.a.createElement(H.a,{utils:J.a},r.a.createElement(z.a,{className:w.datePicker,label:"Start Date",disableToolbar:!0,inputVariant:"outlined",variant:"inline",format:"MM/dd/yyyy",autoOk:!0,value:i.startDate,onChange:function(e){m(e,i)},KeyboardButtonProps:{"aria-label":"change date"},margin:"dense"})),null===i.startDate&&r.a.createElement(C.a,{title:"Missing Start Date"},r.a.createElement(Z.a,{className:"push-left warning-icon text-top"},"warning"))),r.a.createElement(A.a,{className:w.root},r.a.createElement(x.a,{className:w.table,"aria-label":"simple table"},r.a.createElement(L.a,null,r.a.createElement(T.a,null,r.a.createElement(_.a,null,"Series Name\xa0(Raw)"),r.a.createElement(_.a,null,"Series Name\xa0(AniList)"),r.a.createElement(_.a,{align:"right"},"AniList\xa0ID"),r.a.createElement(_.a,{align:"right"},"MAL\xa0ID"),r.a.createElement(_.a,{align:"right"},"Type"),r.a.createElement(_.a,{align:"right"},"Episodes"))),r.a.createElement(F.a,null,s.map((function(e){return r.a.createElement(T.a,{key:e.rowIndex},r.a.createElement(_.a,{component:"th",scope:"row"},e.titleRaw),r.a.createElement(_.a,null,e.titleEn),r.a.createElement(_.a,{align:"right"},e.idAL),r.a.createElement(_.a,{align:"right"},e.idMal),r.a.createElement(_.a,{align:"right"},e.type),r.a.createElement(_.a,{align:"right"},e.episodes),r.a.createElement(_.a,null,r.a.createElement(N,{onClick:j,series:e})))}))))),r.a.createElement(ne,{open:E,onClose:function(e){h(!1),y&&p(y,i.sheetId,e),v(null)},series:y}))},ie=a(85),ce=a.n(ie),se=(a(136),a(188)),oe=a(186),le=a(185),ue=a(140),me=a(195),pe=Object(P.a)((function(e){return Object(R.a)({logo:{marginRight:e.spacing(2)},title:{marginRight:e.spacing(3)},navButton:{marginRight:e.spacing(1)},grow:{flexGrow:1}})})),de=function(){var e=pe();return r.a.createElement("div",null,r.a.createElement(se.a,{position:"static"},r.a.createElement(oe.a,null,r.a.createElement(le.a,{edge:"start",className:e.logo,color:"inherit","aria-label":"logo"},r.a.createElement(U.b,{to:"/"},r.a.createElement("img",{src:ce.a,className:"App-logo",alt:"logo"}))),r.a.createElement(ue.a,{variant:"h6",className:e.title},"Friday Fellows Updater"),r.a.createElement(me.a,{disableRipple:!0,component:U.c,to:"/ondeck",activeClassName:"activeLink"},r.a.createElement(Q.a,{variant:"contained",className:e.navButton},"On Deck")),r.a.createElement(me.a,{disableRipple:!0,component:U.c,to:"/seasons",activeClassName:"activeLink"},r.a.createElement(Q.a,{variant:"contained",className:e.navButton},"Seasons")),r.a.createElement(me.a,{disableRipple:!0,component:U.c,to:"/admin",activeClassName:"activeLink"},r.a.createElement(Q.a,{variant:"contained",className:e.navButton,disabled:!0},"Admin")),r.a.createElement("div",{className:e.grow}),r.a.createElement(Q.a,{color:"inherit"},"Login"))))};a(137);function ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ge(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ge(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ee=Object(P.a)((function(e){return Object(R.a)({header:fe({},e.typography.button,{padding:e.spacing(1),marginLeft:"auto",marginRight:"auto",marginBottom:e.spacing(2),width:"fit-content"}),headerSegment:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},paperBody:{margin:"auto",maxWidth:"60vw"},table:{minWidth:650}})})),he=function(){var e=Ee();return r.a.createElement("div",null,r.a.createElement(A.a,{className:e.header},r.a.createElement("span",{className:e.headerSegment},"Fall 2019"),r.a.createElement("span",{className:e.headerSegment},"Week 10"),r.a.createElement("span",{className:e.headerSegment},"Next Session: 11/22/2019")),r.a.createElement(A.a,{className:e.paperBody},r.a.createElement(x.a,{className:e.table,"aria-label":"simple table"},r.a.createElement(L.a,null,r.a.createElement(T.a,null,r.a.createElement(_.a,null,"Series Title (English)"),r.a.createElement(_.a,{align:"right"},"Episode"))),r.a.createElement(F.a,null,[{id:1,title:"Violet Evergarden",ep:9},{id:2,title:"One Piece",ep:619},{id:3,title:"Kyoukai no Kanata",ep:10},{id:4,title:"White Album 2",ep:9},{id:5,title:"My Hero Academia",ep:8},{id:6,title:"One Punch Man",ep:10}].map((function(e){return r.a.createElement(T.a,{key:e.id},r.a.createElement(_.a,{component:"th",scope:"row"},e.title),r.a.createElement(_.a,{align:"right"},e.ep))}))))))},be=function(e){var t=e.backendURI,a=Object(n.useReducer)(N,j),i=Object(u.a)(a,2),c=i[0],s=i[1];Object(n.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(O.fetchSeasonsStart()),e.next=4,D.a.get(t+"/getAllSeasons");case 4:a=e.sent,n=a.data.lastSyncMs,r=n?new Date(n):void 0,s(O.fetchSeasonsSuccess({json:a.data.seasons,lastSync:r})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[t]);var m=function(){var e=Object(l.a)(o.a.mark((function e(a,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={sheetId:n.sheetId,startDate:a?a.getTime():null},e.next=3,D.a.post(t+"/setSeasonStartDate",r);case 3:200===e.sent.status&&s(O.setSeasonStartDate({season:n,startDate:a}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(l.a)(o.a.mark((function e(a,n,r){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={seasonId:n,row:a.rowIndex,seriesId:r},e.next=3,D.a.post(t+"/setSeriesId",i);case 3:200===e.sent.status&&s(O.setSeriesId({series:a,seriesId:r}));case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement(de,null),r.a.createElement("div",{className:"App-body"},r.a.createElement(k.d,null,r.a.createElement(k.b,{exact:!0,path:"/"},r.a.createElement(k.a,{to:"/ondeck"})),r.a.createElement(k.b,{exact:!0,path:"/ondeck"},r.a.createElement(he,null)),r.a.createElement(k.b,{exact:!0,path:"/seasons"},r.a.createElement(G,{seasons:c.seasons,lastSyncDate:c.lastSync,loading:c.loadingSeasons,onStartDateChanged:m})),r.a.createElement(k.b,{path:"/s/:seasonId",render:function(e){var a=e.match;return r.a.createElement(re,{dispatch:s,backendURI:t,season:c.seasons.find((function(e){return String(e.sheetId)===a.params.seasonId})),seriesList:c.seriesForSeason,onStartDateChanged:m,onSeriesIdChanged:p})}}))),r.a.createElement((function(){return r.a.createElement("div",{className:"App-footer"},r.a.createElement("a",{href:"https://github.com/brisberg/friday-fellows-gcf"},"Github"))}),null))};var Se={BACKEND_URI:"https://us-central1-driven-utility-202807.cloudfunctions.net"};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye=a(189),Oe=a(87),ve=Object(Oe.a)({palette:{type:"dark"}});c.a.render(r.a.createElement(ye.a,{theme:ve},r.a.createElement(U.a,null,r.a.createElement(be,{backendURI:Se.BACKEND_URI}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},85:function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"}},[[105,1,2]]]);
//# sourceMappingURL=main.143e3be7.chunk.js.map